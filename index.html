<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AL-DOLLAR OFFICE</title>

  <!-- PWA / Icons (Ø¥Ø°Ø§ Ù…Ù„ÙØ§ØªÙƒ Ù…Ø±ÙÙˆØ¹Ø©) -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#070a12">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <style>
    :root{
      --bg1:#070a12; --bg2:#0b1226;
      --border: rgba(255,255,255,0.12);
      --text:#eef2ff; --muted:#b4c0e6;
      --shadow: 0 18px 45px rgba(0,0,0,0.45);
      --r: 22px;
      --gold1: rgba(255,215,0,0.95);
      --gold2: rgba(255,255,255,0.95);
      --aqua: rgba(110,231,255,0.22);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, "Noto Kufi Arabic", sans-serif;
      color: var(--text);
      background:
        radial-gradient(900px 650px at 20% -10%, rgba(255, 215, 0, 0.14), transparent 55%),
        radial-gradient(900px 650px at 110% 40%, rgba(110,231,255,0.14), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:grid;
      place-items:center;
      padding: 18px;
    }
    .screen{ display:none; width:min(980px, 95vw); }
    .screen.active{ display:block; }

    .card{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border-radius: var(--r);
      box-shadow: var(--shadow);
      padding: 26px 22px;
      text-align:center;
    }
    .card.wide{ text-align: start; }

    .badge{
      display:inline-block;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.05);
      font-size: 12px;
      color: var(--muted);
      letter-spacing: 1px;
    }

    .logoWrap{
      width:min(420px, 88%);
      margin: 14px auto 8px;
      padding: 10px;
      border-radius: 20px;
      border: 1px solid rgba(255,215,0,0.18);
      background:
        radial-gradient(180px 120px at 20% 10%, rgba(255,215,0,0.18), transparent 65%),
        rgba(0,0,0,0.18);
      box-shadow: 0 18px 38px rgba(0,0,0,0.35);
    }
    .logoWrap img{
      width:100%;
      height:auto;
      display:block;
      border-radius: 16px;
      filter: drop-shadow(0 16px 22px rgba(0,0,0,.45));
    }

    .title{
      margin: 10px 0 6px;
      font-size: 40px;
      line-height: 1.05;
      letter-spacing: 0.6px;
      background: linear-gradient(90deg, var(--gold1), var(--gold2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-transform: uppercase;
      text-align:center;
    }
    .subtitle{
      margin: 0 0 16px;
      color: var(--muted);
      font-size: 14px;
      text-align:center;
    }

    .menu{ margin-top: 14px; display:grid; gap: 12px; }

    .btnPrimary{
      cursor:pointer;
      width:100%;
      border: 1px solid rgba(255,255,255,0.14);
      background: linear-gradient(90deg, rgba(255,215,0,0.38), var(--aqua));
      color: var(--text);
      font-weight: 900;
      font-size: 15px;
      padding: 14px 16px;
      border-radius: 16px;
      box-shadow: 0 14px 30px rgba(0,0,0,0.25);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }

    .btnGhost{
      cursor:pointer;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      font-weight: 800;
      font-size: 13px;
      padding: 10px 14px;
      border-radius: 14px;
      white-space: nowrap;
    }

    .icon{
      width:22px; height:22px;
      display:inline-flex; align-items:center; justify-content:center;
    }
    .icon svg{ width:100%; height:100%; }

    .topRow{
      display:flex; align-items:center; justify-content:space-between;
      gap: 14px; margin-bottom: 14px;
    }
    .actions{ display:flex; gap: 10px; flex-wrap: wrap; }
    .sectionTitle{ margin:0; font-size: 18px; }

    .list{ display:grid; gap: 10px; margin-top: 10px; }
    .itemBtn{
      width:100%;
      display:flex; align-items:center; justify-content:space-between;
      gap: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.22);
      color: var(--text);
      text-decoration:none;
      font-weight: 900;
    }
    .pill{
      font-size: 12px;
      color: var(--muted);
      border:1px solid rgba(255,255,255,0.12);
      border-radius: 999px;
      padding: 6px 10px;
      background: rgba(255,255,255,0.05);
      white-space: nowrap;
    }

    .form{
      margin-top: 14px;
      display:grid;
      gap: 12px;
      text-align:start;
    }
    .field{ display:grid; gap: 6px; }
    .label{ color: var(--muted); font-size: 13px; padding-right: 4px; }
    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.22);
      color: var(--text);
      outline: none;
      font-size: 14px;
    }
    input::placeholder{ color: rgba(180,192,230,0.65); }

    .choiceRow{
      display:flex; gap:14px; flex-wrap:wrap;
      padding: 6px 2px 2px;
      align-items:center;
    }
    .choice{
      display:flex; align-items:center; gap:8px;
      cursor:pointer; user-select:none;
      color: var(--text);
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.18);
    }
    .choice input{ width:auto; padding:0; }

    .message{
      margin: 0;
      padding: 16px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.25);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03);
      color: var(--text);
      overflow:auto;
      line-height: 1.85;
      font-size: 14px;
      white-space: pre-wrap;
    }

    .smallMuted{
      margin-top: 10px;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
    }

    .err{
      display:none;
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,80,80,0.25);
      background: rgba(255,80,80,0.10);
      color: rgba(255,220,220,0.95);
      font-size: 13px;
      text-align:center;
    }
    .err.show{ display:block; }

    .offers{ color: var(--text); line-height: 1.95; font-size: 14px; }
    .offers .muted{ color: var(--muted); }

    @media (max-width: 480px){
      .title{ font-size: 34px; }
      .logoWrap{ width:min(360px, 92%); }
    }
  </style>
</head>

<body>

  <!-- HOME -->
  <main id="home" class="screen active">
    <div class="card">
      <div class="badge">AL-DOLLAR</div>

      <div class="logoWrap">
        <img src="logo.png" alt="Dollar Exchange Office">
      </div>

      <h1 class="title">AL-DOLLAR OFFICE</h1>
      <p class="subtitle">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</p>

      <div class="menu">
        <button class="btnPrimary" onclick="go('wa')">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 32 32" fill="#25D366">
              <path d="M16 2.7c-7.4 0-13.3 5.9-13.3 13.3 0 2.3.6 4.6 1.8 6.6L2 30l7.6-2.4c2 .9 4.2 1.4 6.4 1.4 7.4 0 13.3-5.9 13.3-13.3S23.4 2.7 16 2.7zm0 24.2c-2 0-3.9-.5-5.6-1.4l-.4-.2-4.5 1.4 1.4-4.4-.2-.4c-1-1.8-1.6-3.9-1.6-6 0-6.2 5-11.2 11.2-11.2s11.2 5 11.2 11.2-5 11.2-11.2 11.2z"/>
            </svg>
          </span>
          Ø­Ø³Ø§Ø¨Ø§ØªÙ†Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨
        </button>

        <button class="btnPrimary" onclick="go('ig')">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 32 32">
              <defs>
                <linearGradient id="igGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#f58529"/>
                  <stop offset="50%" stop-color="#dd2a7b"/>
                  <stop offset="100%" stop-color="#515bd4"/>
                </linearGradient>
              </defs>
              <path fill="url(#igGrad)" d="M16 7.3c2.8 0 3.1 0 4.2.1 1 .1 1.6.2 2 .4.5.2.8.4 1.2.8.4.4.6.7.8 1.2.2.4.3 1 .4 2 .1 1.1.1 1.4.1 4.2s0 3.1-.1 4.2c-.1 1-.2 1.6-.4 2-.2.5-.4.8-.8 1.2-.4.4-.7.6-1.2.8-.4.2-1 .3-2 .4-1.1.1-1.4.1-4.2.1s-3.1 0-4.2-.1c-1-.1-1.6-.2-2-.4-.5-.2-.8-.4-1.2-.8-.4-.4-.6-.7-.8-1.2-.2-.4-.3-1-.4-2-.1-1.1-.1-1.4-.1-4.2s0-3.1.1-4.2c.1-1 .2-1.6.4-2 .2-.5.4-.8.8-1.2.4-.4.7-.6 1.2-.8.4-.2 1-.3 2-.4 1.1-.1 1.4-.1 4.2-.1zm0-1.8c-2.9 0-3.2 0-4.3.1-1.2.1-2 .3-2.7.6-.7.3-1.3.7-1.9 1.3-.6.6-1 1.2-1.3 1.9-.3.7-.5 1.5-.6 2.7-.1 1.1-.1 1.4-.1 4.3s0 3.2.1 4.3c.1 1.2.3 2 .6 2.7.3.7.7 1.3 1.3 1.9.6.6 1.2 1 1.9 1.3.7.3 1.5.5 2.7.6 1.1.1 1.4.1 4.3.1s3.2 0 4.3-.1c1.2-.1 2-.3 2.7-.6.7-.3 1.3-.7 1.9-1.3.6-.6 1-1.2 1.3-1.9.3-.7.5-1.5.6-2.7.1-1.1.1-1.4.1-4.3s0-3.2-.1-4.3c-.1-1.2-.3-2-.6-2.7-.3-.7-.7-.3-1.3-1.9-.6-.6-1.2-1-1.9-1.3-.7-.3-1.5-.5-2.7-.6-1.1-.1-1.4-.1-4.3-.1z"/>
              <circle cx="16" cy="16" r="4.1" fill="white"/>
              <circle cx="23.5" cy="8.5" r="1" fill="white"/>
            </svg>
          </span>
          Ø­Ø³Ø§Ø¨Ø§ØªÙ†Ø§ ÙÙŠ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…
        </button>

        <button class="btnPrimary" onclick="go('offers')">Ø¹Ø±ÙˆØ¶Ù†Ø§</button>

        <!-- NEW: Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© -->
        <button class="btnPrimary" onclick="go('addOp')">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</button>

        <button class="btnPrimary" onclick="go('match')">Ø·Ø¨Ø§Ø¹Ø© Ù…Ø·Ø§Ø¨Ù‚Ø©</button>
      </div>

      <div class="smallMuted">Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…Ø¶Ø¨ÙˆØ·ÙŠÙ† Ø¹Ù„Ù‰ GMT+2 âœ…</div>
    </div>
  </main>

  <!-- WhatsApp -->
  <main id="wa" class="screen">
    <div class="card wide">
      <div class="topRow">
        <h2 class="sectionTitle">Ø­Ø³Ø§Ø¨Ø§ØªÙ†Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨</h2>
        <div class="actions">
          <button class="btnGhost" onclick="go('home')">Ø±Ø¬ÙˆØ¹</button>
        </div>
      </div>

      <div class="list">
        <a class="itemBtn" href="https://wa.me/972595172007?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%D9%8B" target="_blank" rel="noopener">
          <span>Ø¹Ù…Ø§Ø¯ Ø²Ø¹Ø±Ø¨</span>
          <span class="pill">WhatsApp</span>
        </a>

        <a class="itemBtn" href="https://wa.me/972567490629?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%D9%8B" target="_blank" rel="noopener">
          <span>Ù…Ù†Ø© Ù‚Ø¯ÙŠØ­</span>
          <span class="pill">WhatsApp</span>
        </a>
      </div>
    </div>
  </main>

  <!-- Instagram -->
  <main id="ig" class="screen">
    <div class="card wide">
      <div class="topRow">
        <h2 class="sectionTitle">Ø­Ø³Ø§Ø¨Ø§ØªÙ†Ø§ ÙÙŠ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…</h2>
        <div class="actions">
          <button class="btnGhost" onclick="go('home')">Ø±Ø¬ÙˆØ¹</button>
        </div>
      </div>

      <div class="list">
        <a class="itemBtn" href="https://www.instagram.com/emad_dollar?igsh=MXRydGc3YmFwYXNjbQ==" target="_blank" rel="noopener">
          <span>Ø¹Ù…Ø§Ø¯ Ø²Ø¹Ø±Ø¨</span>
          <span class="pill">Instagram</span>
        </a>

        <a class="itemBtn" href="https://www.instagram.com/menna.qudeih?igsh=MWI0cWw4a3BxYjdvaA==" target="_blank" rel="noopener">
          <span>Ù…Ù†Ø© Ù‚Ø¯ÙŠØ­</span>
          <span class="pill">Instagram</span>
        </a>

        <a class="itemBtn" href="https://www.instagram.com/dollar._pay?igsh=MW1yYzA0bDVveGpwMQ==" target="_blank" rel="noopener">
          <span>ØµÙØ­Ø© Ø§Ù„Ù…ÙƒØªØ¨</span>
          <span class="pill">Instagram</span>
        </a>
      </div>
    </div>
  </main>

  <!-- Offers -->
  <main id="offers" class="screen">
    <div class="card wide">
      <div class="topRow">
        <h2 class="sectionTitle">Ø¹Ø±ÙˆØ¶Ù†Ø§ ÙˆØ®Ø¯Ù…Ø§ØªÙ†Ø§</h2>
        <div class="actions">
          <button class="btnGhost" onclick="go('home')">Ø±Ø¬ÙˆØ¹</button>
        </div>
      </div>

      <div class="offers">
        <div class="muted">âœ¨ AL-DOLLAR OFFICE âœ¨</div>
        Ù†Ø³ØªÙ‚Ø¨Ù„ Ø­ÙˆØ§Ù„Ø§ØªÙƒÙ… Ù…Ù† <b>Ø¬Ù…ÙŠØ¹ Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø¯ÙˆÙ† Ø§Ø³ØªØ«Ù†Ø§Ø¡</b> ÙˆØ¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†.<br/>
        <br/>â€¢ Ø­ÙˆØ§Ù„Ø§Øª Ø¯Ø§Ø®Ù„ÙŠØ© ÙˆØ®Ø§Ø±Ø¬ÙŠØ©
        <br/>â€¢ ØµØ±Ù Ø¹Ù…Ù„Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©
        <br/>â€¢ Ù…ØªØ§Ø¨Ø¹Ø© ÙÙˆØ±ÙŠØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
        <br/><br/>
        <div class="muted">ğŸ•˜ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</div>
        Ù…Ù† <b>Ø§Ù„Ø³Ø¨Øª Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù…Ø¹Ø©</b> â€” <b>Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø© (24/7)</b> âœ…
      </div>
    </div>
  </main>

  <!-- NEW: Add Operation -->
  <main id="addOp" class="screen">
    <div class="card">
      <div class="badge">OPERATION</div>

      <div class="logoWrap">
        <img src="logo.png" alt="Dollar Exchange Office">
      </div>

      <h1 class="title">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h1>
      <p class="subtitle">Ø§Ø®ØªØ± (Ù„ÙƒÙ…/Ù„Ù†Ø§) ÙˆØ£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº ÙˆØ§Ù„Ø¹Ù…Ù„Ø©</p>

      <div class="form">
        <div class="field">
          <div class="label">Ø§Ù„Ø¬Ù‡Ø©</div>
          <div class="choiceRow">
            <label class="choice">
              <input type="radio" name="opSide" value="Ù„ÙƒÙ…" checked>
              <span>Ù„ÙƒÙ…</span>
            </label>
            <label class="choice">
              <input type="radio" name="opSide" value="Ù„Ù†Ø§">
              <span>Ù„Ù†Ø§</span>
            </label>
          </div>
        </div>

        <div class="field">
          <div class="label">Ø§Ù„Ù…Ø¨Ù„Øº</div>
          <input id="opAmount" type="text" inputmode="decimal" placeholder="Ù…Ø«Ø§Ù„: 250" />
        </div>

        <div class="field">
          <div class="label">Ø§Ù„Ø¹Ù…Ù„Ø©</div>
          <input id="opCurrency" type="text" placeholder="Ù…Ø«Ø§Ù„: USD / ILS / EUR" />
        </div>

        <button id="btnOpPrint" class="btnPrimary">Ø·Ø¨Ø§Ø¹Ø©</button>
        <button class="btnGhost" onclick="go('home')" type="button">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        <div id="opErrBox" class="err"></div>

        <div class="smallMuted">Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙŠØ¨Ø¯Ø£ Ù…Ù† 011009 ÙˆÙŠØ²ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ âœ…</div>
      </div>
    </div>
  </main>

  <!-- NEW: Operation Result (Copy only) -->
  <main id="opResult" class="screen">
    <div class="card wide">
      <div class="topRow">
        <h2 class="sectionTitle">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h2>
        <div class="actions">
          <button id="btnOpCopy" class="btnGhost">Ù†Ø³Ø®</button>
          <button class="btnGhost" onclick="go('addOp')">Ø±Ø¬ÙˆØ¹</button>
          <button class="btnGhost" onclick="go('home')">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        </div>
      </div>

      <pre id="opOut" class="message" aria-live="polite"></pre>
      <div class="smallMuted">Ø²Ø± Ø§Ù„Ù†Ø³Ø® ÙÙ‚Ø· ÙƒÙ…Ø§ Ø·Ù„Ø¨ØªÙŠ âœ…</div>
    </div>
  </main>

  <!-- Match -->
  <main id="match" class="screen">
    <div class="card">
      <div class="badge">MATCH</div>

      <div class="logoWrap">
        <img src="logo.png" alt="Dollar Exchange Office">
      </div>

      <h1 class="title">Ø·Ø¨Ø§Ø¹Ø© Ù…Ø·Ø§Ø¨Ù‚Ø©</h1>
      <p class="subtitle">Ø§ÙƒØªØ¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø«Ù… Ø§Ø¶ØºØ· Ù…Ø·Ø§Ø¨Ù‚Ø©</p>

      <div class="form">
        <div class="field">
          <div class="label">Ø§Ù„Ø§Ø³Ù…</div>
          <input id="inpName" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯" autocomplete="name" />
        </div>

        <div class="field">
          <div class="label">Ø§Ù„Ø¹Ù…Ù„Ø©</div>
          <input id="inpCurrency" type="text" placeholder="Ù…Ø«Ø§Ù„: USD / EUR / ILS" />
        </div>

        <div class="field">
          <div class="label">Ø§Ù„Ù…Ø¨Ù„Øº</div>
          <input id="inpAmount" type="text" inputmode="decimal" placeholder="Ù…Ø«Ø§Ù„: 250" />
        </div>

        <div class="field">
          <div class="label">Ø§Ù„Ø¬Ù‡Ø©</div>
          <div class="choiceRow">
            <label class="choice">
              <input type="radio" name="side" value="Ù„ÙƒÙ…" checked>
              <span>Ù„ÙƒÙ…</span>
            </label>
            <label class="choice">
              <input type="radio" name="side" value="Ù„Ù†Ø§">
              <span>Ù„Ù†Ø§</span>
            </label>
          </div>
        </div>

        <button id="btnMatch" class="btnPrimary">Ù…Ø·Ø§Ø¨Ù‚Ø©</button>
        <button class="btnGhost" onclick="go('home')" type="button">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        <div id="errBox" class="err"></div>

        <div class="smallMuted">Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Ù…Ø¶Ø¨ÙˆØ·ÙŠÙ† Ø¹Ù„Ù‰ GMT+2 âœ…</div>
      </div>
    </div>
  </main>

  <!-- Result -->
  <main id="result" class="screen">
    <div class="card wide">
      <div class="topRow">
        <h2 class="sectionTitle">Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©</h2>
        <div class="actions">
          <button id="btnCopy" class="btnGhost">Ù†Ø³Ø®</button>
          <button id="btnWhats" class="btnGhost">Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§ØªØ³Ø§Ø¨</button>
          <button class="btnGhost" onclick="go('match')">Ø±Ø¬ÙˆØ¹</button>
          <button class="btnGhost" onclick="go('home')">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        </div>
      </div>

      <pre id="messageBox" class="message" aria-live="polite"></pre>
      <div class="smallMuted">ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© (GMT+2).</div>
    </div>
  </main>

  <script>
    (() => {
      "use strict";
      const $ = (id) => document.getElementById(id);
      const screens = ["home","wa","ig","offers","addOp","opResult","match","result"];

      window.go = (id) => {
        screens.forEach(s => $(s).classList.remove("active"));
        $(id).classList.add("active");
      };

      // ======================
      // FIXED GMT+2 date/time
      // ======================
      const dtf = new Intl.DateTimeFormat("en-GB", {
        timeZone: "Etc/GMT-2",
        year: "numeric", month: "2-digit", day: "2-digit",
        hour: "2-digit", minute: "2-digit", second: "2-digit",
        hour12: false
      });

      function formatGMT2(){
        const parts = dtf.formatToParts(new Date());
        const get = (t) => parts.find(p => p.type === t)?.value || "";
        const dd = get("day"), mm = get("month"), yyyy = get("year");
        const hh = get("hour"), mi = get("minute"), ss = get("second");
        return `${dd}/${mm}/${yyyy} ${hh}:${mi}:${ss}`;
      }

      // ======================
      // MATCH (existing)
      // ======================
      const inpName = $("inpName");
      const inpCurrency = $("inpCurrency");
      const inpAmount = $("inpAmount");
      const btnMatch = $("btnMatch");
      const errBox = $("errBox");

      const msgBox = $("messageBox");
      const btnCopy = $("btnCopy");
      const btnWhats = $("btnWhats");
      let matchTimer = null;

      function showError(el, msg){
        el.textContent = msg;
        el.classList.add("show");
      }
      function clearError(el){
        el.textContent = "";
        el.classList.remove("show");
      }
      function sanitizeText(s){
        return String(s ?? "").replace(/\s+/g, " ").trim();
      }
      function amountNormalize(s){
        const raw = String(s ?? "").trim();
        const cleaned = raw.replace(/[^\d.,]/g, "");
        return cleaned || "";
      }

      function buildMatchMessage(name, currency, amount, side){
        const dt = formatGMT2();
        return `âœ… Ø§Ù„Ù€Ù€Ù€Ø³Ù€Ù€Ù€Ù„Ø§Ù… Ø¹Ù€Ù€Ù€Ù€Ù„ÙŠÙƒÙ€Ù€Ù… âœ…

     ..........*Ù…Ù€ÙƒÙ€ØªÙ€Ø¨ Ø§Ù„Ù€Ø¯ÙˆÙ„Ø§Ø±*..........

   Ù…Ù€Ù€Ù€Ù€Ø·Ù€Ù€Ù€Ù€Ø§Ø¨Ù€Ù€Ù€Ù€Ù‚Ù€Ù€Ù€Ù€Ø© Ø­Ù€Ù€Ù€Ù€Ø³Ù€Ù€Ù€Ù€Ø§Ø¨

((((( Ù„Ù€  - ${name} )))))

 Ø­ØªÙ‰ ØªØ§Ø±ÙŠØ® ${dt}

---------------------------------------------------------

${side} ã€Š ${amount}- ã€‹ ${currency}

---------------------------------------------------------
Al-Dollar Exchange Office
*Ù…Ù„Ø§Ø­Ø¸Ø© : ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ ØµØ­Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©* `;
      }

      function renderMatch(name, currency, amount, side){
        msgBox.textContent = buildMatchMessage(name, currency, amount, side);
      }

      function startMatchResult(name, currency, amount, side){
        go("result");
        renderMatch(name, currency, amount, side);
        if (matchTimer) clearInterval(matchTimer);
        matchTimer = setInterval(() => renderMatch(name, currency, amount, side), 1000);
      }

      if (btnMatch){
        btnMatch.addEventListener("click", () => {
          clearError(errBox);
          const name = sanitizeText(inpName.value);
          const currency = sanitizeText(inpCurrency.value);
          const amount = amountNormalize(inpAmount.value);
          const side = document.querySelector('input[name="side"]:checked')?.value || "Ù„ÙƒÙ…";

          if (!name) return showError(errBox, "Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… Ù„Ùˆ Ø³Ù…Ø­Øª.");
          if (!currency) return showError(errBox, "Ø§ÙƒØªØ¨ Ø§Ù„Ø¹Ù…Ù„Ø© Ù„Ùˆ Ø³Ù…Ø­Øª (Ù…Ø«Ø§Ù„: USD).");
          if (!amount) return showError(errBox, "Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ùˆ Ø³Ù…Ø­Øª.");

          startMatchResult(name, currency, amount, side);
        });
      }

      async function copyText(txt){
        try{ await navigator.clipboard.writeText(txt); }
        catch{
          const ta = document.createElement("textarea");
          ta.value = txt; document.body.appendChild(ta);
          ta.select(); document.execCommand("copy");
          document.body.removeChild(ta);
        }
      }

      if (btnCopy){
        btnCopy.addEventListener("click", async () => {
          await copyText(msgBox.textContent || "");
          btnCopy.textContent = "ØªÙ… âœ…";
          setTimeout(()=> btnCopy.textContent="Ù†Ø³Ø®", 1200);
        });
      }

      if (btnWhats){
        btnWhats.addEventListener("click", () => {
          const txt = msgBox.textContent || "";
          window.open("https://wa.me/?text=" + encodeURIComponent(txt), "_blank", "noopener,noreferrer");
        });
      }

      // ======================
      // NEW: ADD OPERATION
      // ======================
      const OP_KEY = "al_dollar_op_counter";
      const OP_START = 11009; // 011009

      function getOpCounter(){
        const v = Number(localStorage.getItem(OP_KEY));
        if (!Number.isFinite(v) || v <= 0){
          localStorage.setItem(OP_KEY, String(OP_START));
          return OP_START;
        }
        return v;
      }

      function nextOpNumber(){
        const current = getOpCounter();
        const next = current + 1;
        localStorage.setItem(OP_KEY, String(next));
        return current; // Ù†Ø±Ø¬Ù‘Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ø·Ø¨Ø§Ø¹ØªÙ‡
      }

      function pad6(n){
        return String(n).padStart(6, "0");
      }

      const opAmount = $("opAmount");
      const opCurrency = $("opCurrency");
      const btnOpPrint = $("btnOpPrint");
      const opErrBox = $("opErrBox");
      const opOut = $("opOut");
      const btnOpCopy = $("btnOpCopy");

      function buildOpText(side, amount, currency, opNo){
        return `${side} ${amount} ${currency}\nØªÙ… Ø§Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ø±Ù‚Ù… ${pad6(opNo)}`;
      }

      if (btnOpPrint){
        btnOpPrint.addEventListener("click", () => {
          clearError(opErrBox);

          const side = document.querySelector('input[name="opSide"]:checked')?.value || "Ù„ÙƒÙ…";
          const amount = amountNormalize(opAmount.value);
          const currency = sanitizeText(opCurrency.value);

          if (!amount) return showError(opErrBox, "Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ùˆ Ø³Ù…Ø­Øª.");
          if (!currency) return showError(opErrBox, "Ø§ÙƒØªØ¨ Ø§Ù„Ø¹Ù…Ù„Ø© Ù„Ùˆ Ø³Ù…Ø­Øª (Ù…Ø«Ø§Ù„: USD).");

          const opNo = nextOpNumber(); // ÙŠØ¨Ø¯Ø£ Ù…Ù† 011009
          opOut.textContent = buildOpText(side, amount, currency, opNo);
          go("opResult");
        });
      }

      if (btnOpCopy){
        btnOpCopy.addEventListener("click", async () => {
          await copyText(opOut.textContent || "");
          btnOpCopy.textContent = "ØªÙ… âœ…";
          setTimeout(()=> btnOpCopy.textContent="Ù†Ø³Ø®", 1200);
        });
      }
    })();
  </script>
</body>
</html>
